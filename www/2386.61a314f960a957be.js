"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2386],{5961:(v,u,n)=>{n.d(u,{GW:()=>l,dk:()=>s,oK:()=>c});var c=function(e){return e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS",e}(c||{}),l=function(e){return e.Rear="REAR",e.Front="FRONT",e}(l||{}),s=function(e){return e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl",e}(s||{})},2386:(v,u,n)=>{n.r(u),n.d(u,{AsistenciaPageModule:()=>I});var c=n(6814),l=n(95),s=n(3582),e=n(467),g=n(5861),Z=n(2726),h=n(5961);const p=(0,Z.fo)("Camera",{web:()=>n.e(6468).then(n.bind(n,6468)).then(o=>new o.CameraWeb)});var t=n(6689),x=n(6466),U=n(2014),m=n(2396),A=n(8662);function P(o,f){if(1&o){const i=t.EpF();t.TgZ(0,"div"),t._UZ(1,"img",10)(2,"br"),t.TgZ(3,"ion-button",11),t.NdJ("click",function(){t.CHM(i);const r=t.oxw();return t.KtG(r.borrarFoto())}),t._uU(4,"Eliminar Foto"),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("src",i.capturedPhoto.webPath,t.LSH)}}function T(o,f){if(1&o&&(t.TgZ(0,"div",12)(1,"ion-text",13),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"ion-text",14),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"ion-text",14),t._uU(8,"------------------------"),t.qZA()()()),2&o){const i=t.oxw();t.xp6(2),t.AsE("Hola, ",i.loggedInUser.name," ",i.loggedInUser.lname,""),t.xp6(3),t.hij("Rut: ",i.loggedInUser.rut,"")}}function b(o,f){if(1&o&&(t.TgZ(0,"div",12)(1,"ion-text",13),t._uU(2),t.qZA(),t._UZ(3,"br"),t.TgZ(4,"ion-text",13),t._uU(5),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"ion-text",13),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"ion-text",13),t._uU(11),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"ion-text",14),t._uU(14,"------------------------"),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"ion-text",15),t._uU(17,"Coordenadas:"),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"ion-text",15),t._uU(20),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"ion-text",15),t._uU(23),t.qZA()()),2&o){const i=t.oxw();t.xp6(2),t.hij("Profesor: ",i.qrData.profesor,""),t.xp6(3),t.hij("Hora de Clase: ",i.qrData.horaclase,""),t.xp6(3),t.hij("Sala: ",i.qrData.sala,""),t.xp6(3),t.hij("Dia: ",i.qrData.dia,""),t.xp6(9),t.hij("Latitud: ",i.latitud,""),t.xp6(3),t.hij("Longitud: ",i.longitud," ")}}const C=[{path:"",component:(()=>{class o{constructor(i,a,r,d,F,O){this.authService=i,this.router=a,this.route=r,this.storage=d,this.locationService=F,this.geolocation=O,this.loggedInUser=null,this.regionName="",this.comunaName="",this.latitud=0,this.longitud=0,this.selfieImageSrc=null}iraInicio(){this.authService.logout(),this.router.navigate(["/home"])}ngOnInit(){var i=this;return(0,g.Z)(function*(){yield i.storage.create();const a=yield i.storage.get("usuarioLogg");a&&(i.loggedInUser=a),i.route.queryParams.subscribe(r=>{r&&r.qrData&&(i.qrData=JSON.parse(r.qrData))})})()}obtenerUbicacion(){this.geolocation.getCurrentPosition().then(i=>{this.latitud=i.coords.latitude,this.longitud=i.coords.longitude}).catch(i=>{console.error("Error obteniendo la ubicaci\xf3n",i)})}ionViewDidEnter(){this.obtenerUbicacion()}tomarFoto(){var i=this;return(0,g.Z)(function*(){const a=yield p.getPhoto({quality:90,allowEditing:!1,resultType:h.dk.Uri,source:h.oK.Camera});i.capturedPhoto=a})()}borrarFoto(){this.capturedPhoto=void 0}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(x.e),t.Y36(e.F0),t.Y36(e.gz),t.Y36(U.K),t.Y36(m.a),t.Y36(A.b))};static#i=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-asistencia"]],decls:20,vars:3,consts:[[1,"ion-padding"],[1,"ion-text-center","ion-padding"],[1,"titulo_principal"],[1,"ion-text-center"],[1,"titulo_secundario"],[4,"ngIf"],["class","ion-text-start",4,"ngIf"],[1,"button-primary",3,"click"],[1,"div_volver"],[1,"link_volver",3,"click"],["alt","Foto capturada",3,"src"],[3,"click"],[1,"ion-text-start"],[1,"usuario"],[1,"rut_usuario"],[1,"coordenadas"]],template:function(a,r){1&a&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"ion-text",2),t._uU(3,"Attendify"),t.qZA(),t.TgZ(4,"div",3)(5,"ion-text",4),t._uU(6,"Clase registrada"),t.qZA()()(),t._UZ(7,"br"),t.YNc(8,P,5,1,"div",5),t._UZ(9,"br"),t.YNc(10,T,9,3,"div",6),t._UZ(11,"br"),t.YNc(12,b,24,6,"div",6),t._UZ(13,"br"),t.TgZ(14,"div")(15,"ion-button",7),t.NdJ("click",function(){return r.tomarFoto()}),t._uU(16,"Tomar Selfie"),t.qZA()(),t.TgZ(17,"div",8)(18,"a",9),t.NdJ("click",function(){return r.iraInicio()}),t._uU(19,"Cerrar sesi\xf3n y volver al inicio"),t.qZA()()()),2&a&&(t.xp6(8),t.Q6J("ngIf",r.capturedPhoto),t.xp6(2),t.Q6J("ngIf",r.loggedInUser),t.xp6(2),t.Q6J("ngIf",r.qrData))},dependencies:[c.O5,s.YG,s.W2,s.yW],styles:[".titulo_principal[_ngcontent-%COMP%]{font-size:55px}.titulo_secundario[_ngcontent-%COMP%]{font-size:25px;margin-top:3px}.usuario[_ngcontent-%COMP%], .coordenadas[_ngcontent-%COMP%], .rut-usuario[_ngcontent-%COMP%]{font-size:20px;text-align:left}.div_volver[_ngcontent-%COMP%]{position:absolute;margin-top:75px;left:0;padding:10px}.link_volver[_ngcontent-%COMP%]{color:#fff;text-decoration:none}"]})}return o})()}];let y=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#i=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[e.Bz.forChild(C),e.Bz]})}return o})(),I=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#i=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[c.ez,l.u5,s.Pc,y]})}return o})()}}]);